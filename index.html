<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
  <title>Selamat Ulang Tahun!</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Sacramento&family=Poppins:wght@300;600&display=swap');

    /* Root variables for festive colors */
    :root {
      --pink: #f66b8d;
      --purple: #7b49f7;
      --gold: #f2ba49;
      --light-bg: #fff8f9;
      --text-dark: #3e1a33;
      --text-light: #6f4b74;
      --confetti-colors: #f66b8d, #7b49f7, #f2ba49, #bbdeee, #f9e9b8;
    }

    /* Reset and base */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body, html {
      width: 100%;
      height: 100%;
      font-family: 'Poppins', sans-serif;
      background: linear-gradient(135deg, var(--pink), var(--purple));
      color: var(--text-dark);
      overflow: hidden;
      user-select: none;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      padding: 1rem;
      min-height: 600px;
      max-height: 600px;
      max-width: 350px;
      margin: auto;
    }

    h1, h2 {
      font-family: 'Sacramento', cursive;
      font-weight: 400;
      color: rgb(233, 17, 17);
      text-shadow: 0 0 10px rgba(0,0,0,0.3);
    }

    /* Container for form and greeting */
    .container {
      background: var(--light-bg);
      border-radius: 25px;
      box-shadow: 0 8px 20px rgba(0,0,0,0.15);
      max-width: 320px;
      width: 100%;
      padding: 2rem 2rem 3rem 2rem;
      text-align: center;
      position: relative;
      overflow: visible;
    }

    /* Form style */
    form {
      display: flex;
      flex-direction: column;
      gap: 1.5rem;
      margin-top: 1rem;
    }

    label {
      font-weight: 600;
      color: var(--purple);
      font-size: 1.1rem;
      text-align: left;
    }

    input[type="text"] {
      padding: 0.75rem 1rem;
      font-size: 1rem;
      border-radius: 15px;
      border: 2px solid var(--purple);
      outline: none;
      transition: border-color 0.3s ease;
      font-weight: 300;
    }

    input[type="text"]:focus {
      border-color: var(--pink);
      box-shadow: 0 0 8px var(--pink);
    }

    button {
      background: var(--pink);
      color: white;
      font-weight: 600;
      padding: 0.75rem 0;
      font-size: 1.2rem;
      border: none;
      border-radius: 25px;
      cursor: pointer;
      box-shadow: 0 4px 15px rgba(246,107,141,0.6);
      transition: background 0.3s ease;
      user-select: none;
    }
    button:hover:enabled {
      background: #d04f72;
      box-shadow: 0 6px 20px rgba(208,79,114,0.8);
    }
    button:disabled {
      background: #fbb5c1;
      cursor: not-allowed;
      box-shadow: none;
    }

    /* Greeting styles */
    #greeting {
      display: none;
      padding-top: 1rem;
    }
    #greeting h1 {
      font-size: 3rem;
      margin-bottom: 0.25rem;
    }
    #greeting p {
      font-size: 1.25rem;
      color: var(--text-light);
      margin-bottom: 1.5rem;
      user-select: text;
    }

    /* Balloon styles */
    .balloon {
      position: absolute;
      bottom: -150px;
      width: 40px;
      height: 60px;
      background: var(--pink);
      border-radius: 0 0 20px 20px;
      opacity: 0.85;
      animation: floatUp linear infinite;
      box-shadow: inset -5px -7px 8px rgba(255 255 255 / 0.5);
    }
    .balloon::after {
      content: "";
      position: absolute;
      bottom: -12px;
      left: 50%;
      width: 2px;
      height: 20px;
      background: #555;
      transform: translateX(-50%);
      border-radius: 1px;
    }
    /* Balloon colors */
    .balloon.pink { background: #f66b8d; }
    .balloon.purple { background: #7b49f7; }
    .balloon.gold { background: #f2ba49; }
    .balloon.blue { background: #bbdeee; }
    .balloon.yellow { background: #f9e9b8; }

    /* Balloon animation */
    @keyframes floatUp {
      0% {
        opacity: 0;
        bottom: -60px;
        transform: translateX(0) scale(0.8);
      }
      50% {
        opacity: 1;
        transform: translateX(15px) scale(1);
      }
      100% {
        opacity: 0;
        bottom: 600px;
        transform: translateX(0) scale(0.8);
      }
    }

    /* Confetti styles */
    .confetti {
      pointer-events: none;
      position: fixed;
      top: 0;
      left: 50%;
      width: 10px;
      height: 10px;
      background-color: var(--pink);
      opacity: 0.9;
      z-index: 9999;
      transform-origin: center;
      border-radius: 2px;
      animation: confetti-fall linear forwards;
    }
    @keyframes confetti-fall {
      0% {
        transform: rotate(0deg);
        opacity: 1;
        top: -10px;
      }
      100% {
        top: 650px;
        opacity: 0;
        transform: rotate(360deg);
      }
    }

    /* Responsive */
    @media (max-width: 375px), (max-height: 600px) {
      body {
        padding: 0.75rem;
        min-height: 600px;
        max-height: 600px;
        max-width: 350px;
      }

      .container {
        max-width: 100%;
        padding: 2rem 1.5rem 2.5rem;
      }

      #greeting h1 {
        font-size: 2.5rem;
      }
      #greeting p {
        font-size: 1.1rem;
      }

      input[type="text"], button {
        font-size: 1rem;
      }
    }
  </style>
</head>
<body>
  <div class="container" role="main" aria-live="polite" aria-atomic="true">
    <form id="nameForm" aria-label="Form input nama ulang tahun">
      <label for="nameInput">Nama kamu:</label>
      <input type="text" id="nameInput" name="name" placeholder="Masukkan nama kamu" autocomplete="off" required aria-required="true" />
      <button type="submit" id="btnSubmit" disabled>Lanjut</button>
    </form>

    <section id="greeting" aria-label="Halaman ucapan selamat ulang tahun">
      <h1>Selamat Ulang Tahun!</h1>
      <p id="personalGreeting"></p>
    </section>
  </div>

  <!-- Birthday tune audio; source: open public domain or creative commons -->
  <audio id="birthdayAudio" loop preload="auto" aria-hidden="true">

    <source src="song.mp3" type="audio/mpeg" />
    Your browser does not support the audio element.
  </audio>

  <!-- Balloons: dynamically created -->
  <script>
    // Enable submit button only if name input is not empty
    const nameInput = document.getElementById('nameInput');
    const btnSubmit = document.getElementById('btnSubmit');
    const birthdayAudio = document.getElementById('birthdayAudio');
    nameInput.addEventListener('input', function() {
      btnSubmit.disabled = !this.value.trim();
    });

    // Handle form submission
    const form = document.getElementById('nameForm');
    const greetingSection = document.getElementById('greeting');
    const personalGreeting = document.getElementById('personalGreeting');

    form.addEventListener('submit', (e) => {
      e.preventDefault();
      const name = nameInput.value.trim();
      if (!name) return;

      // Play birthday tune audio
      // Use user interaction to allow autoplay per browser policies
      birthdayAudio.volume = 0.25;
      birthdayAudio.play().catch(e => {
        // Autoplay might be blocked
        console.log("Audio playback prevented:", e);
      });

      // Hide form, show greeting
      form.style.display = 'none';
      personalGreeting.textContent = `Semoga hari ini dan tahun-tahun mendatang penuh kebahagiaan untukmu, ${name}!`;
      greetingSection.style.display = 'block';

      // Start balloons animation
      createBalloons(12);
      startConfetti();
    });

    // Create balloon elements and animate
    function createBalloons(count) {
      for(let i=0; i<count; i++) {
        const balloon = document.createElement('div');
        balloon.classList.add('balloon');

        // Random color class
        const colors = ['pink', 'purple', 'gold', 'blue', 'yellow'];
        balloon.classList.add(colors[Math.floor(Math.random() * colors.length)]);

        // Random horizontal position between 5% and 95%
        balloon.style.left = `${Math.random() * 90 + 5}%`;

        // Random animation delay and duration for variety
        balloon.style.animationDuration = `${Math.random() * 5 + 6}s`;
        balloon.style.animationDelay = `${Math.random() * 5}s`;

        document.body.appendChild(balloon);

        // Remove balloon after animation completes (to avoid DOM bloat)
        balloon.addEventListener('animationend', () => {
          balloon.remove();
          // Recreate balloon to have continuous flow
          createBalloons(1);
        });
      }
    }

    // Confetti animation: create small confetti pieces falling
    function startConfetti() {
      const colors = ['#f66b8d', '#7b49f7', '#f2ba49', '#bbdeee', '#f9e9b8'];
      const confettiCount = 50;

      for(let i=0; i<confettiCount; i++) {
        const confetti = document.createElement('div');
        confetti.classList.add('confetti');

        // Random confetti colors
        confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];

        // Random horizontal start (around the container center +/- 50%)
        confetti.style.left = `${50 + (Math.random() * 100 - 50)}%`;

        // Random delay and duration for falling animation
        confetti.style.animationDuration = `${(Math.random() * 3 + 3).toFixed(2)}s`;
        confetti.style.animationDelay = `${(Math.random() * 5).toFixed(2)}s`;

        // Random rotation start
        confetti.style.transform = `rotate(${Math.random() * 360}deg)`;

        document.body.appendChild(confetti);

        // Remove confetti after animation ends
        confetti.addEventListener('animationend', () => {
          confetti.remove();
          // recreate new confetti piece
          startConfettiPiece();
        });
      }
    }

    // Create a single confetti piece with random props, used to recreate confetti continuously
    function startConfettiPiece() {
      const colors = ['#f66b8d', '#7b49f7', '#f2ba49', '#bbdeee', '#f9e9b8'];
      const confetti = document.createElement('div');
      confetti.classList.add('confetti');
      confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
      confetti.style.left = `${50 + (Math.random() * 100 - 50)}%`;
      confetti.style.animationDuration = `${(Math.random() * 3 + 3).toFixed(2)}s`;
      confetti.style.animationDelay = '0s';
      confetti.style.transform = `rotate(${Math.random() * 360}deg)`;
      document.body.appendChild(confetti);
      confetti.addEventListener('animationend', () => {
        confetti.remove();
        startConfettiPiece();
      });
    }
  </script>
</body>
</html>
</content>
</create_file>
